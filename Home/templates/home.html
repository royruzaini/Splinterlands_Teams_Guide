{% extends "layout.html" %}
{% block content %}

<style>
    table {
        border-spacing: 1em .5em;
        border: 1px solid orange;
    }
    th {
        width: auto;
        height: auto;
        padding: 1px;
        text-align: center;
        border: 1px solid black;
        vertical-align: middle;
    }
    td {
        width: auto;
        height: auto;
        padding: 5px;
        border: 1px solid black;
        vertical-align: middle;
    }
    .button {
        background-color: darkcyan; /* Green */
        border: none;
        color: black;
        padding: 12px 28px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin: 4px 2px;
        transition-duration: 0.4s;
        cursor: pointer;
    }
    .button5:hover {
        background-color: cadetblue;
        color: white;
    }
</style>

<h1>
    Enter your IGN to get your latest own cards.<br>
</h1>
<div class="card_generation">
    <div>
        <label style="display: inline-block;">Username:</label>
        <input style="display: inline-block;" id="username" type="text">
        <button class="button button5" style="display: inline-block;" onclick="getcard()" >Get My Cards</button>
        <label style="display: inline-block;">Result:</label>
        <div style="display: inline-block;" id="result"></div>
    </div>
</div>
<br><br>

<h1>
    Select below option to filter your playable cards.<br>
</h1>
<div class="card_filter">
    <div>
        <input style="display: inline-block;" type="checkbox" id="Promo" name="Promo" value="2">
        <label style="display: inline-block;" for="Promo"> Promo</label><br>
        <input style="display: inline-block;" type="checkbox" id="Reward" name="Reward" value="3">
        <label style="display: inline-block;" for="Reward"> Reward</label><br>
        <input style="display: inline-block;" type="checkbox" id="Untamed" name="Untamed" value="4">
        <label style="display: inline-block;" for="Untamed"> Untamed</label><br>
    </div>
    <div>
        <input style="display: inline-block;" type="checkbox" id="Dice" name="Dice" value="5">
        <label style="display: inline-block;" for="Dice"> Dice</label><br>
        <input style="display: inline-block;" type="checkbox" id="ChaosLegion" name="ChaosLegion" value="7">
        <label style="display: inline-block;" for="ChaosLegion"> Chaos Legion</label><br>
    </div>
    <div>
        <input style="display: inline-block;" type="checkbox" id="NoLegend" name="NoLegend" value="NoLegend">
        <label style="display: inline-block;" for="NoLegend"> No Legendary Cards may be used.</label><br>
        <input style="display: inline-block;" type="checkbox" id="NoLegendSummoners" name="NoLegendSummoners" value="NoLegendSummoners">
        <label style="display: inline-block;" for="NoLegendSummoners"> No Legendary Summoners may be used.</label><br>
    </div>
</div>
<br><br>

<h1>
    Select team parameter.<br>
</h1>
<div class="mana_selection">
    <div>
        <label style="display: inline-block;" for="mana">Choose a mana:</label>
            <select style="display: inline-block;" name="mana" id="mana">
                <option value="12">12</option>
                <option value="13">13</option>
                <option value="14">14</option>
                <option value="15">15</option>
                <option value="16">16</option>
                <option value="17">17</option>
                <option value="18">18</option>
                <option value="19">19</option>
                <option value="20">20</option>
                <option value="21">21</option>
                <option value="22">22</option>
                <option value="23">23</option>
                <option value="24">24</option>
                <option value="25">25</option>
                <option value="26">26</option>
                <option value="27">27</option>
                <option value="28">28</option>
                <option value="29">29</option>
                <option value="30">30</option>
                <option value="31">31</option>
                <option value="32">32</option>
                <option value="33">33</option>
                <option value="34">34</option>
                <option value="35">35</option>
                <option value="36">36</option>
                <option value="37">37</option>
                <option value="38">38</option>
                <option value="39">39</option>
                <option value="40">40</option>
                <option value="41">41</option>
                <option value="42">42</option>
                <option value="43">43</option>
                <option value="44">44</option>
                <option value="45">45</option>
                <option value="46">46</option>
                <option value="47">47</option>
                <option value="48">48</option>
                <option value="49">49</option>
                <option value="50">50</option>
                <option value="99">99</option>
            </select>
    </div>
</div>
<div class="ruleset_selection">
    <div>
        <label style="display: inline-block;" for="ruleset1">1st ruleset:</label>
            <select style="display: inline-block;" name="rule1" id="rule1">
                <option value="Standard">Standard</option>
                <option value="Aim True">Aim True</option>
                <option value="Armored Up">Armored Up</option>
                <option value="Back to Basics">Back to Basics</option>
                <option value="Broken Arrows">Broken Arrows</option>
                <option value="Close Range">Close Range</option>
                <option value="Earthquake">Earthquake</option>
                <option value="Equal Opportunity">Equal Opportunity</option>
                <option value="Equalizer">Equalizer</option>
                <option value="Even Stevens">Even Stevens</option>
                <option value="Explosive Weaponry">Explosive Weaponry</option>
                <option value="Fog of War">Fog of War</option>    
                <option value="Healed Out">Healed Out</option>
                <option value="Heavy Hitters">Heavy Hitters</option>
                <option value="Holy Protection">Holy Protection</option>
                <option value="Keep Your Distance">Keep Your Distance</option>
                <option value="Little League">Little League</option>
                <option value="Lost Legendaries">Lost Legendaries</option>
                <option value="Lost Magic">Lost Magic</option>
                <option value="Melee Mayhem">Melee Mayhem</option>
                <option value="Noxious Fumes">Noxious Fumes</option>
                <option value="Odd Ones Out">Odd Ones Out</option>
                <option value="Reverse Speed">Reverse Speed</option>
                <option value="Rise of the Commons">Rise of the Commons</option>
                <option value="Silenced Summoners">Silenced Summoners</option>
                <option value="Spreading Fury">Spreading Fury</option>
                <option value="Stampede">Stampede</option>
                <option value="Super Sneak">Super Sneak</option>
                <option value="Taking Sides">Taking Sides</option>
                <option value="Target Practice">Target Practice</option>
                <option value="Unprotected">Unprotected</option>
                <option value="Up Close & Personal">Up Close & Personal</option>
                <option value="Weak Magic">Weak Magic</option>
            </select>
    </div>
    <div>
        <label style="display: inline-block;" for="ruleset2">2nd ruleset:</label>
            <select style="display: inline-block;" name="rule2" id="rule2">
                <option value="None">None</option>
                <option value="Aim True">Aim True</option>
                <option value="Armored Up">Armored Up</option>
                <option value="Back to Basics">Back to Basics</option>
                <option value="Broken Arrows">Broken Arrows</option>
                <option value="Close Range">Close Range</option>
                <option value="Earthquake">Earthquake</option>
                <option value="Equal Opportunity">Equal Opportunity</option>
                <option value="Equalizer">Equalizer</option>
                <option value="Even Stevens">Even Stevens</option>
                <option value="Explosive Weaponry">Explosive Weaponry</option>
                <option value="Fog of War">Fog of War</option>    
                <option value="Healed Out">Healed Out</option>
                <option value="Heavy Hitters">Heavy Hitters</option>
                <option value="Holy Protection">Holy Protection</option>
                <option value="Keep Your Distance">Keep Your Distance</option>
                <option value="Little League">Little League</option>
                <option value="Lost Legendaries">Lost Legendaries</option>
                <option value="Lost Magic">Lost Magic</option>
                <option value="Melee Mayhem">Melee Mayhem</option>
                <option value="Noxious Fumes">Noxious Fumes</option>
                <option value="Odd Ones Out">Odd Ones Out</option>
                <option value="Reverse Speed">Reverse Speed</option>
                <option value="Rise of the Commons">Rise of the Commons</option>
                <option value="Silenced Summoners">Silenced Summoners</option>
                <option value="Spreading Fury">Spreading Fury</option>
                <option value="Stampede">Stampede</option>
                <option value="Super Sneak">Super Sneak</option>
                <option value="Taking Sides">Taking Sides</option>
                <option value="Target Practice">Target Practice</option>
                <option value="Unprotected">Unprotected</option>
                <option value="Up Close & Personal">Up Close & Personal</option>
                <option value="Weak Magic">Weak Magic</option>
            </select>
    </div>
</div>
<br>
<div>
    <button class="button button5" onclick="Submit()" >Submit</button>
</div>
<br><br>
<h1>
    <label style="display: inline-block;">Possible Team based on your cards:</label>
    <div style="display: inline-block;" id="possibleteam"></div>
</h1>
<table>
    <tr style="background-color: darkcyan;">
        <th>Life Team:</th>
        <th style="background-color: darkcyan;"></th>
        <th>Death Team:</th>
    </tr>
    <tr>
        <td>
            <div id="teamwhitewin"></div><br>
        </td>
        <td style="background-color: darkcyan;"></td>
        <td>
            <div id="teamblackwin"></div><br>
        </td>
    </tr>
    <tr style="background-color: cadetblue;">
        <th>Life Team Detail:</th>
        <th style="background-color: darkcyan;"></th>
        <th>Death Team Detail:</th>
    </tr>
    <tr>
        <td>
            <div id="teamwhite"></div><br>
        </td>
        <td style="background-color: darkcyan;"></td>
        <td>
            <div id="teamblack"></div>
        </td>
    </tr>
    <tr style="background-color: darkcyan;">
        <th>Water Team:</th>
        <th style="background-color: darkcyan;"></th>
        <th>Fire Team:</th>
    </tr>
    <tr>
        <td>
            <div id="teambluewin"></div><br>
        </td>
        <td style="background-color: darkcyan;"></td>
        <td>
            <div id="teamredwin"></div><br>
        </td>
    </tr>
    <tr style="background-color: cadetblue;">
        <th>Water Team Detail:</th>
        <th style="background-color: darkcyan;"></th>
        <th>Fire Team Detail:</th>
    </tr>
    <tr>
    <tr>
        <td>
            <div id="teamblue"></div><br>
        </td>
        <td style="background-color: darkcyan;"></td>
        <td>
            <div id="teamred"></div>
        </td>
    </tr>
    <tr style="background-color: darkcyan;">
        <th>Earth Team:</th>
        <th style="background-color: darkcyan;"></th>
        <th>Dragon Team:</th>
    </tr>
    <tr>
        <td>
            <div id="teamgreenwin"></div><br>
        </td>
        <td style="background-color: darkcyan;"></td>
        <td>
            <div id="teamgoldwin"></div><br>
        </td>
    </tr>
    <tr style="background-color: cadetblue;">
        <th>Earth Team Detail:</th>
        <th style="background-color: darkcyan;"></th>
        <th>Dragon Team Detail:</th>
    </tr>
    <tr>
    <tr>
        <td>
            <div id="teamgreen"></div><br>
        </td>
        <td style="background-color: darkcyan;"></tdstyle></td>
        <td>
            <div id="teamgold"></div>
        </td>
    </tr>
</table>
<script>
    // Make API calls
    function Submit() {
        possibleteam();
        life();
        death();
        water();
        fire();
        earth();
        dragon();
        lifewin();
        deathwin();
        waterwin();
        firewin();
        earthwin();
        dragonwin();
     }
    function life(){
        var mana = document.getElementById('mana').value;
        var rule1 = document.getElementById('rule1').value;
        var rule2 = document.getElementById('rule2').value;
        fetch('{% url 'get-team-white' %}'+"?mana="+mana+"&rule1="+rule1+"&rule2="+rule2)
        .then(res => res.text())
		.then(data => document.getElementById('teamwhite').innerHTML = data)
	}
    function death(){
        var mana = document.getElementById('mana').value;
        var rule1 = document.getElementById('rule1').value;
        var rule2 = document.getElementById('rule2').value;
        fetch('{% url 'get-team-black' %}'+"?mana="+mana+"&rule1="+rule1+"&rule2="+rule2)
        .then(res => res.text())
		.then(data => document.getElementById('teamblack').innerHTML = data)
	}
    function water(){
        var mana = document.getElementById('mana').value;
        var rule1 = document.getElementById('rule1').value;
        var rule2 = document.getElementById('rule2').value;
        fetch('{% url 'get-team-blue' %}'+"?mana="+mana+"&rule1="+rule1+"&rule2="+rule2)
        .then(res => res.text())
		.then(data => document.getElementById('teamblue').innerHTML = data)
	}
    function fire(){
        var mana = document.getElementById('mana').value;
        var rule1 = document.getElementById('rule1').value;
        var rule2 = document.getElementById('rule2').value;
        fetch('{% url 'get-team-red' %}'+"?mana="+mana+"&rule1="+rule1+"&rule2="+rule2)
        .then(res => res.text())
		.then(data => document.getElementById('teamred').innerHTML = data)
	}
    function earth(){
        var mana = document.getElementById('mana').value;
        var rule1 = document.getElementById('rule1').value;
        var rule2 = document.getElementById('rule2').value;
        fetch('{% url 'get-team-green' %}'+"?mana="+mana+"&rule1="+rule1+"&rule2="+rule2)
        .then(res => res.text())
		.then(data => document.getElementById('teamgreen').innerHTML = data)
	}
    function dragon(){
        var mana = document.getElementById('mana').value;
        var rule1 = document.getElementById('rule1').value;
        var rule2 = document.getElementById('rule2').value;
        fetch('{% url 'get-team-gold' %}'+"?mana="+mana+"&rule1="+rule1+"&rule2="+rule2)
        .then(res => res.text())
		.then(data => document.getElementById('teamgold').innerHTML = data)
	}   
    function lifewin(){
        var mana = document.getElementById('mana').value;
        var rule1 = document.getElementById('rule1').value;
        var rule2 = document.getElementById('rule2').value;
        fetch('{% url 'get-team-white-win' %}'+"?mana="+mana+"&rule1="+rule1+"&rule2="+rule2)
        .then(res => res.text())
		.then(win_ratio => document.getElementById('teamwhitewin').innerHTML = win_ratio)
	}
    function deathwin(){
        var mana = document.getElementById('mana').value;
        var rule1 = document.getElementById('rule1').value;
        var rule2 = document.getElementById('rule2').value;
        fetch('{% url 'get-team-black-win' %}'+"?mana="+mana+"&rule1="+rule1+"&rule2="+rule2)
        .then(res => res.text())
		.then(win_ratio => document.getElementById('teamblackwin').innerHTML = win_ratio)
	}
    function waterwin(){
        var mana = document.getElementById('mana').value;
        var rule1 = document.getElementById('rule1').value;
        var rule2 = document.getElementById('rule2').value;
        fetch('{% url 'get-team-blue-win' %}'+"?mana="+mana+"&rule1="+rule1+"&rule2="+rule2)
        .then(res => res.text())
		.then(win_ratio => document.getElementById('teambluewin').innerHTML = win_ratio)
	}
    function firewin(){
        var mana = document.getElementById('mana').value;
        var rule1 = document.getElementById('rule1').value;
        var rule2 = document.getElementById('rule2').value;
        fetch('{% url 'get-team-red-win' %}'+"?mana="+mana+"&rule1="+rule1+"&rule2="+rule2)
        .then(res => res.text())
		.then(win_ratio => document.getElementById('teamredwin').innerHTML = win_ratio)
	}
    function earthwin(){
        var mana = document.getElementById('mana').value;
        var rule1 = document.getElementById('rule1').value;
        var rule2 = document.getElementById('rule2').value;
        fetch('{% url 'get-team-green-win' %}'+"?mana="+mana+"&rule1="+rule1+"&rule2="+rule2)
        .then(res => res.text())
		.then(win_ratio => document.getElementById('teamgreenwin').innerHTML = win_ratio)
	}
    function dragonwin(){
        var mana = document.getElementById('mana').value;
        var rule1 = document.getElementById('rule1').value;
        var rule2 = document.getElementById('rule2').value;
        fetch('{% url 'get-team-gold-win' %}'+"?mana="+mana+"&rule1="+rule1+"&rule2="+rule2)
        .then(res => res.text())
		.then(win_ratio => document.getElementById('teamgoldwin').innerHTML = win_ratio)
	}
    function possibleteam(){
        var mana = document.getElementById('mana').value;
        var rule1 = document.getElementById('rule1').value;
        var rule2 = document.getElementById('rule2').value;
        fetch('{% url 'get-possible-team' %}'+"?mana="+mana+"&rule1="+rule1+"&rule2="+rule2)
        .then(res => res.text())
		.then(team => document.getElementById('possibleteam').innerHTML = team)
	}
    function getcard(){
        var username = document.getElementById('username').value;
        var promo = document.getElementById('Promo');
        var reward = document.getElementById('Reward');
        var untamed = document.getElementById('Untamed');
        var dice = document.getElementById('Dice');
        var chaos = document.getElementById('ChaosLegion');
        var NoLegend = document.getElementById('NoLegend');
        var NoLegendSummoners = document.getElementById('NoLegendSummoners');
        if (promo.checked == true){  
            var promoCheck = document.getElementById('Promo').value;
        }
        if (reward.checked == true){  
            var rewardCheck = document.getElementById('Reward').value;
        }  
        if (untamed.checked == true){  
            var untamedCheck = document.getElementById('Untamed').value;
        }  
        if (dice.checked == true){  
            var diceCheck = document.getElementById('Dice').value;
        }  
        if (chaos.checked == true){  
            var chaosCheck = document.getElementById('ChaosLegion').value;
        }  
        if (NoLegend.checked == true){  
            var NoLegendCheck = document.getElementById('NoLegend').value;
        }  
        if (NoLegendSummoners.checked == true){  
            var NoLegendSummonersCheck = document.getElementById('NoLegendSummoners').value;
        }
        const edition = [promoCheck,rewardCheck,untamedCheck,diceCheck,chaosCheck]
        fetch('{% url 'get-my-card' %}'+"?username="+username+"&edition="+edition+"&NoLegend="+NoLegendCheck+"&NoLegendSummoners="+NoLegendSummonersCheck)
        .then(res => res.text())
		.then(data => document.getElementById('result').innerHTML = data)
	}
</script>
{% endblock %}